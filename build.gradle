apply plugin: 'war'
apply plugin: 'jetty'

repositories {
	mavenCentral()
}

dependencies {
	runtime 'com.github.jsimone:webapp-runner:7.0.22'
	providedCompile 'javax.servlet:javax.servlet-api:3.1.0'
}

task stage( dependsOn: [ 'clean', 'build' ] )

/* User defined properties */
if ( project.hasProperty( "httpPort" ) ) [ jettyRun, jettyRunWar ]*.httpPort = "$httpPort".toInteger()
if ( project.hasProperty( "contextPath" ) ) [ jettyRun, jettyRunWar ]*.contextPath = "$contextPath"
